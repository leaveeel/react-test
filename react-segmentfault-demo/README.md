# react重写思否 segmentfault 网站

* 1.0
	* 今天边查边写了半个header，进度缓慢；  
	* 用了styled-components，暂时没遇到大问题；  
	* 基本在画样式，也暂时没遇到js上的问题；  
	* border-box用的不太适应；  
	* map已经得心应手了。
  
* 1.1
	* 纠结了一上午styled-components里是把每个标签都export一个模块还是在整个模块内写完子元素样式。改成了后者看着又觉得乱又退了回来，先这样写吧反正也不麻烦。  
	* 今天做了header未登录的右边部分，附带整理了一下昨天的结构，把nav单独建了个组建，这样在暴露到root的Header就整洁了很多，把数据都转成了repair获取的形式，jsx加了登陆状态的判断条件。  
	* 进度仍然极慢，原生写的话现在主页应该就结束了，还要适应。  
	* 明天把header组件和loginbanner写完，争取在写好内容左侧导航。又要想一下loginbanner是放在header还是单独一个组件了。

* 1.2
	* 进度比预想的慢得多，今天的代码写完了头疼划了会。
	* 加了fontawesome库，不用辛苦的用css敲箭头了。
	* 一些原生标签不能用`state`做布尔判断，也可能原生标签都不支持，改用组件就可以了。

* 1.3
	* `Opts`组件里的分栏想了好久该怎么做，删了写写了测然后删，一共浪费了有一天时间吧。后来改成`map`获取`index`修改对应数组对象里的`active`属性，试了挺久都没解决，无法选定对应下标的对象。最后改成获取`index`，根据`index`来判断`active`。这里从昨天下午卡到现在了，可以进行下一步了。
	* 在写组件时又遇到了一些问题，需要点击其余位置隐藏组件。因为组建内可操作内容较多，不能使用蒙版，并且是在上层组件控制获取`props`的值显示该组件的，无法使用`focus`，`蒙版`的方式。后来看了可以给`document`绑定隐藏事件，然后阻断在该组件上的点击事件。经过不停debug最后在控制单元和组件的父标签添加阻断函数解决。

* 1.4
	* 今天算把Header组件写完了，还剩登陆注册弹窗。因为没有用`redux`所以登陆状态需要手动改json的值。原本想着只用react自己的方法解决状态切换，然后发现有点复杂。和朋友探讨了一下还是需要用redux。还有`router`、`axios`可能还有别的，还是想的有点简单了。
	* 暂时先看看上面列的文档吧，然后完整的功能写一遍。
	* 后台传输方面好像也比js要麻烦，具体也没细看，等做完了再研究吧
	* 回看代码的时候发现已经理解不能了，没有写注释的坏处。几乎等于再重新写一遍流程？组件状态命名还是要精确点。

* 1.5
    * 开始往项目添加redux，先写了`login`状态和`nav`焦点，后面有需要再一起写。

* 1.6
    * 因为redux刷新页面丢失store，感觉有些地方用`cookie`或者`Local Storage`更合适，因为不需要永久缓存就看了一下`cookie`的用法，写了一个用于`cookie`增删改查的common模块。
